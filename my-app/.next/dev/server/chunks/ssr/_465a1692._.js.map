{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/carlo/OneDrive/Documentos/workspace/Atividades%20de%20Paulo/aula%20de%20next/Aula-NEXT/my-app/api/livro_api.js"],"sourcesContent":["export const cadastrarLivro = async (livro) => {\r\n   // URL do seu Controller no Spring Boot (ajuste o endpoint '/livros' conforme seu backend)\r\n   const endpoint = 'http://localhost:8080/livros';\r\n\r\n\r\n   try {\r\n       const response = await fetch(endpoint, {\r\n           method: 'POST',\r\n           headers: {\r\n               'Content-Type': 'application/json',\r\n               // Se tiver autenticação no futuro, o token iria aqui\r\n           },\r\n           body: JSON.stringify(livro)\r\n       });\r\n\r\n\r\n       if (!response.ok) {\r\n           // Se o backend retornar erro (400, 500), lançamos uma exceção\r\n           const erroData = await response.text(); // ou response.json() dependendo do backend\r\n           throw new Error(`Erro ao cadastrar: ${erroData || response.statusText}`);\r\n       }\r\n\r\n\r\n       // Se quiser retornar o livro salvo com o ID gerado:\r\n       return await response.json();\r\n      \r\n   } catch (error) {\r\n       // Repassamos o erro para quem chamou a função tratar\r\n       console.error(\"Erro na comunicação com a API:\", error);\r\n       throw error;\r\n   }\r\n};\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,iBAAiB,OAAO;IAClC,0FAA0F;IAC1F,MAAM,WAAW;IAGjB,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,UAAU;YACnC,QAAQ;YACR,SAAS;gBACL,gBAAgB;YAEpB;YACA,MAAM,KAAK,SAAS,CAAC;QACzB;QAGA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,8DAA8D;YAC9D,MAAM,WAAW,MAAM,SAAS,IAAI,IAAI,2CAA2C;YACnF,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,YAAY,SAAS,UAAU,EAAE;QAC3E;QAGA,oDAAoD;QACpD,OAAO,MAAM,SAAS,IAAI;IAE9B,EAAE,OAAO,OAAO;QACZ,qDAAqD;QACrD,QAAQ,KAAK,CAAC,kCAAkC;QAChD,MAAM;IACV;AACH"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/cadastro/cadastro.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"cadastro-module__pyH3kG__button\",\n  \"card\": \"cadastro-module__pyH3kG__card\",\n  \"form\": \"cadastro-module__pyH3kG__form\",\n  \"input\": \"cadastro-module__pyH3kG__input\",\n  \"inputGroup\": \"cadastro-module__pyH3kG__inputGroup\",\n  \"label\": \"cadastro-module__pyH3kG__label\",\n  \"main\": \"cadastro-module__pyH3kG__main\",\n  \"textarea\": \"cadastro-module__pyH3kG__textarea\",\n  \"tituloPagina\": \"cadastro-module__pyH3kG__tituloPagina\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/carlo/OneDrive/Documentos/workspace/Atividades%20de%20Paulo/aula%20de%20next/Aula-NEXT/my-app/app/cadastro/page.js"],"sourcesContent":["'use client';\r\n\r\n\r\nimport { useState } from 'react';\r\nimport { cadastrarLivro } from '../../api/livro_api'; // <--- Importação do serviço\r\nimport styles from './cadastro.module.css';\r\n\r\n\r\nexport default function CadastroPage() {\r\n const [livro, setLivro] = useState({\r\n   titulo: '',\r\n   autor: '',\r\n   isbn: '',\r\n   ano: '',\r\n   resumo: ''\r\n });\r\n\r\n\r\n // Novo estado para feedback visual\r\n const [mensagem, setMensagem] = useState({ texto: '', tipo: '' });\r\n\r\n\r\n const handleChange = (e) => {\r\n   const { name, value } = e.target;\r\n   setLivro(prevState => ({\r\n     ...prevState,\r\n     [name]: value\r\n   }));\r\n };\r\n\r\n\r\n // Função atualizada para enviar ao Backend\r\n const handleSubmit = async (e) => {\r\n   e.preventDefault();\r\n   setMensagem({ texto: 'Enviando...', tipo: 'info' });\r\n\r\n\r\n   try {\r\n     await cadastrarLivro(livro);\r\n     setMensagem({ texto: 'Livro cadastrado com sucesso!', tipo: 'sucesso' });\r\n     setLivro({ titulo: '', autor: '', isbn: '', ano: '', resumo: '' }); // Limpa form\r\n   } catch (error) {\r\n     console.error(error);\r\n     setMensagem({ texto: 'Erro ao conectar com o servidor.', tipo: 'erro' });\r\n   }\r\n };\r\n\r\n\r\n return (\r\n   <>\r\n     <main className={styles.main}>\r\n       <div className={styles.card}>\r\n         <h2 className={styles.tituloPagina}>Cadastro de Livros</h2>\r\n\r\n\r\n         {/* Bloco de Mensagem de Feedback */}\r\n         {mensagem.texto && (\r\n           <p style={{\r\n               padding: '10px',\r\n               marginBottom: '10px',\r\n               backgroundColor: mensagem.tipo === 'sucesso' ? '#d4edda' :\r\n                                mensagem.tipo === 'erro' ? '#f8d7da' : '#e2e3e5',\r\n               color: mensagem.tipo === 'sucesso' ? '#155724' :\r\n                      mensagem.tipo === 'erro' ? '#721c24' : '#383d41',\r\n               borderRadius: '4px'\r\n           }}>\r\n             {mensagem.texto}\r\n           </p>\r\n         )}\r\n        \r\n         <form onSubmit={handleSubmit} className={styles.form}>\r\n          \r\n           <div className={styles.inputGroup}>\r\n             <label htmlFor=\"titulo\" className={styles.label}>Título</label>\r\n             <input\r\n               type=\"text\"\r\n               id=\"titulo\"\r\n               name=\"titulo\"\r\n               value={livro.titulo}\r\n               onChange={handleChange}\r\n               className={styles.input}\r\n               required\r\n             />\r\n           </div>\r\n\r\n\r\n           <div className={styles.inputGroup}>\r\n             <label htmlFor=\"autor\" className={styles.label}>Autor</label>\r\n             <input\r\n               type=\"text\"\r\n               id=\"autor\"\r\n               name=\"autor\"\r\n               value={livro.autor}\r\n               onChange={handleChange}\r\n               className={styles.input}\r\n               required\r\n             />\r\n           </div>\r\n\r\n\r\n           <div className={styles.inputGroup}>\r\n             <label htmlFor=\"isbn\" className={styles.label}>ISBN</label>\r\n             <input\r\n               type=\"text\"\r\n               id=\"isbn\"\r\n               name=\"isbn\"\r\n               value={livro.isbn}\r\n               onChange={handleChange}\r\n               className={styles.input}\r\n             />\r\n           </div>\r\n\r\n\r\n           <div className={styles.inputGroup}>\r\n             <label htmlFor=\"ano\" className={styles.label}>Ano</label>\r\n             <input\r\n               type=\"number\"\r\n               id=\"ano\"\r\n               name=\"ano\"\r\n               value={livro.ano}\r\n               onChange={handleChange}\r\n               className={styles.input}\r\n             />\r\n           </div>\r\n\r\n\r\n           <button type=\"submit\" className={styles.button}>\r\n             {mensagem.texto === 'Enviando...' ? 'Salvando...' : 'Salvar'}\r\n           </button>\r\n         </form>\r\n       </div>\r\n     </main>\r\n   </>\r\n );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/carlo/OneDrive/Documentos/workspace/Atividades%20de%20Paulo/aula%20de%20next/Aula-NEXT/my-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}